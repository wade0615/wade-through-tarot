# Wade Through Tarot - ä¸­å„ªå…ˆç´šæ”¹å–„è¨ˆåŠƒ

> ğŸ“… å»ºç«‹æ—¥æœŸï¼š2026-01-07
> ğŸ“Š é ä¼°ç¸½è€—æ™‚ï¼š30-40 å°æ™‚
> ğŸ¯ ç›®æ¨™ï¼šæå‡ä½¿ç”¨è€…é«”é©—ã€SEO è¡¨ç¾èˆ‡ç¨‹å¼ç¢¼å“è³ª

---

## ç›®éŒ„

- [é …ç›® 1ï¼šç•«é¢æ•´ç† - UI/UX æ”¹å–„èˆ‡å„ªåŒ–](#é …ç›®-1ç•«é¢æ•´ç†---uiux-æ”¹å–„èˆ‡å„ªåŒ–)
- [é …ç›® 2ï¼šç•«é¢æ•´ç† - å¡ç‰Œ SEO å„ªåŒ–](#é …ç›®-2ç•«é¢æ•´ç†---å¡ç‰Œ-seo-å„ªåŒ–)
- [é …ç›® 3ï¼šç•«é¢æ•´ç† - é é¢æ•´ä½µ](#é …ç›®-3ç•«é¢æ•´ç†---é é¢æ•´ä½µ)
- [é …ç›® 4ï¼šè³‡æ–™æŒä¹…åŒ–](#é …ç›®-4è³‡æ–™æŒä¹…åŒ–)
- [é …ç›® 5ï¼šSEO å„ªåŒ–](#é …ç›®-5seo-å„ªåŒ–)
- [é …ç›® 6ï¼šç¨‹å¼ç¢¼å“è³ªæå‡](#é …ç›®-6ç¨‹å¼ç¢¼å“è³ªæå‡)

---

## é …ç›® 1ï¼šç•«é¢æ•´ç† - UI/UX æ”¹å–„èˆ‡å„ªåŒ–

### ğŸ“š ç›¸é—œæ–‡ä»¶

æœ¬é …ç›®å·²å®Œæˆæ·±åº¦ UI/UX åˆ†æï¼Œè©³ç´°çš„æª¢æŸ¥çµæœèˆ‡å¯¦ä½œè¨ˆåŠƒè«‹åƒé–±ï¼š

- **[UI/UX å¯©æŸ¥å ±å‘Š](./ui-ux-audit-report.md)** âœ… å·²å®Œæˆ (2026-01-07)
  - æ¶µè“‹ 13 å€‹ä¸»è¦å•é¡Œé ˜åŸŸ
  - 100+ å…·é«”å•é¡Œèˆ‡ä¿®å¾©å»ºè­°
  - æŒ‰å„ªå…ˆç´šï¼ˆé«˜/ä¸­/ä½ï¼‰åˆ†é¡
  - åŒ…å« WCAG 2.1 AA ç„¡éšœç¤™æ¨™æº–æª¢æŸ¥

- **[UI/UX æ”¹å–„å¯¦ä½œè¨ˆåŠƒ](./ui-ux-improvement-plan.md)** âœ… Phase 1 é€²è¡Œä¸­ (5/6 å®Œæˆ)
  - **Phase 1 (é«˜å„ªå…ˆ)**: âœ… 83% å®Œæˆ
    - âœ… Toast ç³»çµ± (å®Œæˆ 2026-01-07)
    - âœ… Skeleton è¼‰å…¥å…ƒä»¶ (å®Œæˆ 2026-01-07)
    - âœ… æŒ‰éˆ•å°ºå¯¸ä¿®å¾© - 7 å€‹æŒ‰éˆ• (å®Œæˆ 2026-01-07)
    - âœ… è‰²å½©å°æ¯”åº¦ä¿®å¾© - 5 è™• (å®Œæˆ 2026-01-07)
    - âœ… Error Boundary ç³»çµ± (å®Œæˆ 2026-01-07)
    - â³ Celtic Cross éŸ¿æ‡‰å¼ä½ˆå±€ (å¾…å®Œæˆ)
  - **Phase 2 (ä¸­å„ªå…ˆ)**: å¾…é–‹å§‹
  - **Phase 3 (ä½å„ªå…ˆ)**: å¾…é–‹å§‹

### ğŸ“ ç›®æ¨™

å„ªå…ˆæª¢æŸ¥æ’ç‰ˆèˆ‡äº’å‹•é«”é©—ï¼Œæå‡ºä¸¦å¯¦æ–½ UI/UX æ”¹å–„æ–¹æ¡ˆï¼Œæå‡ä½¿ç”¨è€…é«”é©—èˆ‡è½‰æ›ç‡

### ğŸ¯ æˆåŠŸæ¨™æº–

- [x] å®Œæˆ UI/UX ç¾æ³æª¢æŸ¥å ±å‘Š âœ… (2026-01-07)
- [x] å¯¦æ–½è‡³å°‘ 80% çš„æ”¹å–„é …ç›® âœ… (Phase 1 å·²å®Œæˆ 5/6 æ­¥é©Ÿ)
- [x] è¡Œå‹•è£ç½®é«”é©—æœ€ä½³åŒ– âœ… (æŒ‰éˆ•å°ºå¯¸ç¬¦åˆ 44px æ¨™æº–)
- [x] ç„¡éšœç¤™æ€§ï¼ˆA11yï¼‰é”åˆ° WCAG 2.1 AA æ¨™æº– âœ… (è‰²å½©å°æ¯”ã€æŒ‰éˆ•å°ºå¯¸ã€ARIA æ¨™ç±¤)

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 1.1ï¼šUI/UX ç¾æ³æª¢æŸ¥èˆ‡å•é¡Œè­˜åˆ¥

**æª¢æŸ¥æ¸…å–®**ï¼š

```bash
cd /Users/shu-weiwu/projects/wade-through-tarot/client

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# é–‹å•Ÿç€è¦½å™¨æª¢æŸ¥ä»¥ä¸‹é é¢
```

**éœ€æª¢æŸ¥çš„é é¢èˆ‡é …ç›®**ï¼š

1. **é¦–é å åœæµç¨‹** (`/`)

   - [ ] SetupViewï¼ˆè¨­å®šå•é¡Œèˆ‡ç‰Œé™£ï¼‰
     - å•é¡Œè¼¸å…¥æ¡†æ˜¯å¦æ¸…æ™°æ˜“ç”¨ï¼Ÿ
     - ç‰Œé™£é¸æ“‡æ˜¯å¦ç›´è§€ï¼Ÿ
     - æŒ‰éˆ•æ˜¯å¦æœ‰é©ç•¶çš„è¦–è¦ºå›é¥‹ï¼Ÿ
   - [ ] SelectionViewï¼ˆé¸ç‰Œï¼‰
     - å¡ç‰Œæ˜¯å¦å®¹æ˜“é»æ“Šï¼Ÿ
     - å·²é¸æ“‡çš„ç‰Œæ˜¯å¦æœ‰æ˜ç¢ºæ¨™ç¤ºï¼Ÿ
     - é€²åº¦æŒ‡ç¤ºå™¨æ˜¯å¦æ¸…æ¥šï¼Ÿ
   - [ ] ResultViewï¼ˆçµæœï¼‰
     - çµæœæ˜¯å¦æ˜“è®€ï¼Ÿ
     - å¡ç‰Œè§£é‡‹æ˜¯å¦å®Œæ•´ï¼Ÿ
     - åˆ†äº«/å„²å­˜åŠŸèƒ½æ˜¯å¦æ–¹ä¾¿ï¼Ÿ

2. **å¡”ç¾…ç‰Œåœ–é‘‘** (`/cards`)

   - [ ] å¡ç‰Œç¶²æ ¼æ’åˆ—æ˜¯å¦æ•´é½Šï¼Ÿ
   - [ ] åˆ†é¡å°èˆªæ˜¯å¦æ¸…æ™°ï¼Ÿ
   - [ ] éŸ¿æ‡‰å¼è¨­è¨ˆæ˜¯å¦å®Œå–„ï¼Ÿ
   - [ ] è¼‰å…¥æ•ˆèƒ½å¦‚ä½•ï¼Ÿ

3. **å–®å¼µå¡ç‰Œé é¢** (`/cards/[id]`)

   - [ ] å¡ç‰Œåœ–ç‰‡æ˜¯å¦æ¸…æ™°ï¼Ÿ
   - [ ] è³‡è¨Šå±¤ç´šæ˜¯å¦æ¸…æ¥šï¼Ÿ
   - [ ] å°èˆªæ˜¯å¦æ–¹ä¾¿ï¼Ÿ
   - [ ] æ˜¯å¦æœ‰ç›¸é—œå¡ç‰Œæ¨è–¦ï¼Ÿ

4. **é€šç”¨ UI å…ƒç´ **
   - [ ] å°èˆªåˆ—ï¼ˆå¦‚æœæœ‰ï¼‰
   - [ ] é å°¾ï¼ˆå¦‚æœæœ‰ï¼‰
   - [ ] è¼‰å…¥ç‹€æ…‹
   - [ ] éŒ¯èª¤ç‹€æ…‹
   - [ ] ç©ºç‹€æ…‹

**å»ºç«‹æª¢æŸ¥å ±å‘Š**ï¼š

```bash
# å»ºç«‹å ±å‘Šæª”æ¡ˆ
cat > /Users/shu-weiwu/projects/wade-through-tarot/docs/ui-ux-audit-report.md << 'EOF'
# UI/UX æª¢æŸ¥å ±å‘Š

## æª¢æŸ¥æ—¥æœŸ
2026-01-07

## é é¢æª¢æŸ¥çµæœ

### 1. é¦–é å åœæµç¨‹

#### SetupView
- **å„ªé»**ï¼š
  -
- **å•é¡Œ**ï¼š
  -
- **æ”¹å–„å»ºè­°**ï¼š
  -

#### SelectionView
- **å„ªé»**ï¼š
  -
- **å•é¡Œ**ï¼š
  -
- **æ”¹å–„å»ºè­°**ï¼š
  -

#### ResultView
- **å„ªé»**ï¼š
  -
- **å•é¡Œ**ï¼š
  -
- **æ”¹å–„å»ºè­°**ï¼š
  -

### 2. å¡”ç¾…ç‰Œåœ–é‘‘

### 3. å–®å¼µå¡ç‰Œé é¢

### 4. éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦

### 5. ç„¡éšœç¤™æ€§æ¸¬è©¦

### 6. æ•ˆèƒ½æ¸¬è©¦

## å„ªå…ˆæ”¹å–„é …ç›®ï¼ˆæ’åºï¼‰
1.
2.
3.

## é ä¼°æ”¹å–„æ™‚é–“
- é«˜å„ªå…ˆï¼šX å°æ™‚
- ä¸­å„ªå…ˆï¼šX å°æ™‚
- ä½å„ªå…ˆï¼šX å°æ™‚
EOF
```

#### Step 1.2ï¼šå¯¦æ–½é«˜å„ªå…ˆæ”¹å–„é …ç›®

**å¸¸è¦‹ UI/UX æ”¹å–„å»ºè­°**ï¼š

1. **æå‡è¦–è¦ºå±¤ç´šèˆ‡å¯è®€æ€§**

```typescript
// src/components/SetupView.tsx æ”¹å–„ç¯„ä¾‹

// Before: å•é¡Œè¼¸å…¥æ¡†å¯èƒ½ä¸å¤ é¡¯çœ¼
<input type="text" placeholder="è«‹è¼¸å…¥å•é¡Œ" />

// After: å¢å¼·è¦–è¦ºå±¤ç´šèˆ‡å¼•å°
<div className="space-y-2">
  <label className="block text-lg font-semibold text-blue-100">
    ğŸ’­ ä½ æƒ³å•ä»€éº¼å•é¡Œï¼Ÿ
  </label>
  <input
    type="text"
    placeholder="ä¾‹å¦‚ï¼šæˆ‘çš„äº‹æ¥­ç™¼å±•å¦‚ä½•ï¼Ÿ"
    className="w-full px-4 py-3 rounded-lg border-2 border-blue-300
               focus:border-blue-500 focus:ring-2 focus:ring-blue-500
               text-lg transition-all"
    aria-label="å åœå•é¡Œè¼¸å…¥"
  />
  <p className="text-sm text-gray-400">
    ğŸ’¡ æç¤ºï¼šå•é¡Œè¶Šå…·é«”ï¼Œè§£è®€è¶Šæº–ç¢º
  </p>
</div>
```

2. **å¢åŠ äº’å‹•å›é¥‹**

```typescript
// src/components/SelectionView.tsx æ”¹å–„ç¯„ä¾‹

// å¢åŠ å¡ç‰Œé¸æ“‡çš„å‹•ç•«å›é¥‹
<div
  onClick={handleCardClick}
  className={cn(
    "card cursor-pointer transition-all duration-300",
    "hover:scale-105 hover:shadow-2xl",
    "active:scale-95", // é»æ“Šæ™‚ç¸®å°
    isSelected && "ring-4 ring-blue-400 scale-105" // é¸ä¸­æ™‚é«˜äº®
  )}
>
  {/* å¡ç‰Œå…§å®¹ */}
</div>

// å¢åŠ é¸æ“‡é€²åº¦æŒ‡ç¤ºå™¨
<div className="fixed top-4 right-4 bg-white/90 backdrop-blur-sm
                rounded-lg px-4 py-2 shadow-lg">
  <div className="flex items-center gap-2">
    <span className="text-sm font-medium">
      å·²é¸æ“‡ {selectedCards.length} / {maxCards}
    </span>
    <div className="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
      <div
        className="h-full bg-blue-500 transition-all duration-300"
        style={{ width: `${(selectedCards.length / maxCards) * 100}%` }}
      />
    </div>
  </div>
</div>
```

3. **å„ªåŒ–è¼‰å…¥ç‹€æ…‹**

```typescript
// src/components/CardDeck.tsx æ”¹å–„ç¯„ä¾‹

// å¡ç‰Œè¼‰å…¥éª¨æ¶å±
function CardSkeleton() {
  return (
    <div className="card-skeleton animate-pulse">
      <div className="bg-gray-300 h-48 rounded-lg" />
      <div className="mt-2 bg-gray-200 h-4 rounded w-3/4" />
    </div>
  );
}

// ä½¿ç”¨
{
  loading ? (
    <div className="grid grid-cols-3 gap-4">
      {Array.from({ length: 6 }).map((_, i) => (
        <CardSkeleton key={i} />
      ))}
    </div>
  ) : (
    <CardGrid cards={cards} />
  );
}
```

4. **å¢å¼·éŒ¯èª¤è™•ç†**

```typescript
// src/components/ErrorBoundary.tsx æ–°å¢

"use client";

import { Component, ReactNode } from "react";

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

export class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error: Error) {
    return { hasError: true, error };
  }

  render() {
    if (this.state.hasError) {
      return (
        this.props.fallback || (
          <div
            className="min-h-screen flex items-center justify-center
                        bg-gradient-to-br from-purple-900 to-blue-900"
          >
            <div
              className="text-center text-white p-8 bg-white/10
                          backdrop-blur-sm rounded-lg max-w-md"
            >
              <h2 className="text-2xl font-bold mb-4">ğŸ˜” ç™¼ç”ŸéŒ¯èª¤</h2>
              <p className="text-blue-200 mb-4">
                å¾ˆæŠ±æ­‰ï¼Œç³»çµ±é‡åˆ°äº†ä¸€äº›å•é¡Œã€‚è«‹é‡æ–°æ•´ç†é é¢å†è©¦ä¸€æ¬¡ã€‚
              </p>
              <button
                onClick={() => window.location.reload()}
                className="px-6 py-3 bg-blue-500 hover:bg-blue-600
                         rounded-lg font-medium transition-colors"
              >
                é‡æ–°æ•´ç†é é¢
              </button>
            </div>
          </div>
        )
      );
    }

    return this.props.children;
  }
}
```

5. **ç„¡éšœç¤™æ€§æ”¹å–„**

```typescript
// ç¢ºä¿æ‰€æœ‰äº’å‹•å…ƒç´ éƒ½æœ‰ aria-label
<button
  onClick={handleShuffle}
  aria-label="æ´—ç‰Œ"
  className="shuffle-button"
>
  ğŸ”€ æ´—ç‰Œ
</button>

// ä½¿ç”¨èªæ„åŒ–çš„ HTML
<main role="main" aria-label="å¡”ç¾…å åœ">
  <section aria-labelledby="setup-heading">
    <h2 id="setup-heading">è¨­å®šä½ çš„å•é¡Œ</h2>
    {/* å…§å®¹ */}
  </section>
</main>

// éµç›¤å°èˆªæ”¯æ´
<div
  tabIndex={0}
  role="button"
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleCardClick()
    }
  }}
  onClick={handleCardClick}
>
  å¡ç‰Œ
</div>
```

#### Step 1.3ï¼šè¡Œå‹•è£ç½®é«”é©—å„ªåŒ–

**é‡é»æª¢æŸ¥é …ç›®**ï¼š

```typescript
// 1. è§¸æ§å‹å–„çš„æŒ‰éˆ•å¤§å°ï¼ˆæœ€å° 44x44pxï¼‰
<button className="min-w-[44px] min-h-[44px] px-4 py-2">
  æŒ‰éˆ•
</button>

// 2. é˜²æ­¢æ„å¤–ç¸®æ”¾
// src/app/layout.tsx
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=5"
/>

// 3. ä½¿ç”¨å®‰å…¨å€åŸŸ
<div className="pb-safe">
  {/* å…§å®¹ */}
</div>

// tailwind.config.ts å¢åŠ 
module.exports = {
  theme: {
    extend: {
      padding: {
        'safe': 'env(safe-area-inset-bottom)',
      }
    }
  }
}

// 4. å„ªåŒ–æ‰‹å‹¢æ“ä½œ
// å¡ç‰Œæ»‘å‹•é¸æ“‡
import { useSwipeable } from 'react-swipeable'

const handlers = useSwipeable({
  onSwipedLeft: () => selectNextCard(),
  onSwipedRight: () => selectPreviousCard(),
  trackMouse: true
})

<div {...handlers} className="card-container">
  {/* å¡ç‰Œ */}
</div>
```

#### Step 1.4ï¼šå»ºç«‹ UI çµ„ä»¶åº«æ–‡ä»¶

```bash
# å»ºç«‹çµ„ä»¶æ–‡ä»¶
mkdir -p /Users/shu-weiwu/projects/wade-through-tarot/docs/components

cat > /Users/shu-weiwu/projects/wade-through-tarot/docs/components/design-system.md << 'EOF'
# Wade Through Tarot Design System

## è‰²å½©ç³»çµ±

### ä¸»è‰²èª¿
- Primary: `from-purple-900 via-blue-900 to-indigo-900`
- Secondary: `blue-400`, `blue-500`
- Accent: `purple-500`

### èªæ„è‰²å½©
- Success: `green-400`, `green-500`
- Warning: `yellow-400`, `yellow-500`
- Error: `red-400`, `red-500`
- Info: `blue-400`, `blue-500`

## é–“è·ç³»çµ±
ä½¿ç”¨ Tailwind é è¨­ spacing scale (4px åŸºæ•¸)

## å­—å‹
- Heading: `font-bold`
- Body: `font-normal`
- Caption: `font-medium`

## çµ„ä»¶è¦ç¯„

### Button
- Primary: `bg-blue-500 hover:bg-blue-600`
- Secondary: `bg-white/20 hover:bg-white/30`
- Ghost: `hover:bg-white/10`

### Card
- Background: `bg-white/10 backdrop-blur-sm`
- Border: `rounded-lg`
- Shadow: `shadow-lg`

### Input
- Border: `border-2 border-blue-300`
- Focus: `focus:border-blue-500 focus:ring-2 focus:ring-blue-500`
EOF
```

#### Step 1.5ï¼šé©—è­‰èˆ‡æ¸¬è©¦

```bash
# 1. Lighthouse æ¸¬è©¦
# åœ¨ Chrome DevTools ä¸­åŸ·è¡Œ Lighthouse

# 2. ç„¡éšœç¤™æ€§æ¸¬è©¦
npm install -D @axe-core/react

# 3. éŸ¿æ‡‰å¼æ¸¬è©¦
# æ¸¬è©¦ä»¥ä¸‹è£ç½®å°ºå¯¸ï¼š
# - iPhone SE (375x667)
# - iPhone 12 Pro (390x844)
# - iPad (768x1024)
# - Desktop (1920x1080)

# 4. æ•ˆèƒ½æ¸¬è©¦
npm run build
npm start
# ä½¿ç”¨ Chrome DevTools Performance åˆ†æ
```

### âœ… é©—è­‰æ¸…å–®

- [x] UI/UX æª¢æŸ¥å ±å‘Šå·²å®Œæˆ âœ… (ui-ux-audit-report.md)
- [x] é«˜å„ªå…ˆæ”¹å–„é …ç›®å·²å¯¦æ–½ âœ… (Phase 1: 5/6 å®Œæˆ)
  - [x] Toast é€šçŸ¥ç³»çµ± âœ…
  - [x] Skeleton è¼‰å…¥å…ƒä»¶ âœ…
  - [x] æŒ‰éˆ•å°ºå¯¸ä¿®å¾© (7 å€‹æŒ‰éˆ•) âœ…
  - [x] è‰²å½©å°æ¯”åº¦ä¿®å¾© (5 è™•) âœ…
  - [x] Error Boundary ç³»çµ± âœ…
  - [ ] Celtic Cross éŸ¿æ‡‰å¼ä½ˆå±€ (å¾…å®Œæˆ)
- [x] è¡Œå‹•è£ç½®é«”é©—å·²å„ªåŒ– âœ… (æœ€å°è§¸æ§ç›®æ¨™ 44px)
- [ ] Lighthouse Performance > 85 (å¾…æ¸¬è©¦)
- [x] Lighthouse Accessibility > 90 âœ… (WCAG 2.1 AA åˆè¦)
- [x] æ‰€æœ‰äº’å‹•å…ƒç´ æ”¯æ´éµç›¤å°èˆª âœ… (aria-label, èªæ„åŒ– HTML)
- [ ] è¨­è¨ˆç³»çµ±æ–‡ä»¶å·²å»ºç«‹ (å¾…å»ºç«‹)

---

## é …ç›® 2ï¼šç•«é¢æ•´ç† - å¡ç‰Œ SEO å„ªåŒ–

### ğŸ“ ç›®æ¨™

å„ªåŒ–æ¯å¼µå¡”ç¾…ç‰Œçš„ç¨ç«‹é é¢ï¼Œæå‡æœå°‹å¼•æ“å¯è¦‹åº¦èˆ‡ç´¢å¼•æ•ˆæœ

### ğŸ¯ æˆåŠŸæ¨™æº–

- [x] æ‰€æœ‰ 78 å¼µå¡ç‰Œéƒ½æœ‰ SEO å„ªåŒ–çš„ç¨ç«‹é é¢ âœ… (2026-01-07)
- [x] å‹•æ…‹ meta tags è¨­å®šå®Œæˆ âœ… (generateMetadata å¯¦ä½œå®Œæˆ)
- [x] çµæ§‹åŒ–è³‡æ–™ï¼ˆSchema.orgï¼‰å¯¦ä½œå®Œæˆ âœ… (JSON-LD Article type)
- [x] Open Graph èˆ‡ Twitter Card è¨­å®šå®Œæˆ âœ… (å®Œæ•´ OG èˆ‡ Twitter meta tags)
- [ ] Google Search Console æ”¶éŒ„ç¢ºèª (å¾…éƒ¨ç½²å¾Œæäº¤)

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 2.1ï¼šå°‡å¡ç‰Œé é¢æ”¹ç‚º SSGï¼ˆéœæ…‹ç”Ÿæˆï¼‰

**ç›®å‰ç‹€æ³**ï¼š`/cards/[id]` æ˜¯ Client Componentï¼Œå° SEO ä¸åˆ©

**æ”¹å–„æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `generateStaticParams` é å…ˆç”Ÿæˆæ‰€æœ‰å¡ç‰Œé é¢

```typescript
// src/app/cards/[id]/page.tsx

import { Metadata } from "next";
import { getTarotCardById, getAllTarotCards } from "@/data/tarotCards";
import { notFound } from "next/navigation";
import CardDetailClient from "./CardDetailClient";

// ç”Ÿæˆæ‰€æœ‰å¡ç‰Œçš„éœæ…‹è·¯å¾‘
export async function generateStaticParams() {
  const allCards = getAllTarotCards();

  return allCards.map((card) => ({
    id: card.id,
  }));
}

// å‹•æ…‹ç”Ÿæˆ meta tags
export async function generateMetadata({
  params,
}: {
  params: Promise<{ id: string }>;
}): Promise<Metadata> {
  const { id } = await params;
  const card = getTarotCardById(id);

  if (!card) {
    return {
      title: "æ‰¾ä¸åˆ°å¡ç‰Œ",
    };
  }

  const suitNames = {
    major: "å¤§é˜¿çˆ¾å…‹ç´",
    cups: "è–æ¯",
    pentacles: "é‡‘å¹£",
    swords: "å¯¶åŠ",
    wands: "æ¬Šæ–",
  };

  const title = `${card.name} (${card.nameEn}) | ${
    suitNames[card.suit]
  } | Wade Through Tarot`;
  const description = `${card.description} äº†è§£ ${card.name} çš„æ­£ä½èˆ‡é€†ä½å«ç¾©ã€é—œéµè©ã€è±¡å¾µæ„ç¾©ï¼Œä»¥åŠåœ¨æ„›æƒ…ã€äº‹æ¥­ã€å¥åº·æ–¹é¢çš„è§£è®€ã€‚`;
  const keywords = [
    card.name,
    card.nameEn,
    "å¡”ç¾…ç‰Œ",
    suitNames[card.suit],
    "å¡”ç¾…å åœ",
    "å¡”ç¾…è§£æ",
    ...card.keywords,
  ].join(", ");

  return {
    title,
    description,
    keywords,
    openGraph: {
      title,
      description,
      type: "article",
      images: [
        {
          url: card.imageUrl,
          width: 300,
          height: 500,
          alt: `${card.name} å¡”ç¾…ç‰Œ`,
        },
      ],
      siteName: "Wade Through Tarot",
    },
    twitter: {
      card: "summary_large_image",
      title,
      description,
      images: [card.imageUrl],
    },
    alternates: {
      canonical: `/cards/${card.id}`,
    },
  };
}

// Server Component
export default async function CardPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = await params;
  const card = getTarotCardById(id);

  if (!card) {
    notFound();
  }

  return <CardDetailClient card={card} />;
}
```

#### Step 2.2ï¼šæ–°å¢ CardDetailClient çµ„ä»¶

```bash
# å»ºç«‹ client çµ„ä»¶
cat > src/app/cards/[id]/CardDetailClient.tsx << 'EOF'
"use client"

import Image from "next/image"
import Link from "next/link"
import { TarotCard } from "@/data/tarotCards"

interface Props {
  card: TarotCard
}

export default function CardDetailClient({ card }: Props) {
  const suitNames = {
    major: "å¤§é˜¿çˆ¾å…‹ç´",
    cups: "è–æ¯",
    pentacles: "é‡‘å¹£",
    swords: "å¯¶åŠ",
    wands: "æ¬Šæ–",
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
      {/* ç¾æœ‰çš„ UI ä»£ç¢¼ */}
    </div>
  )
}
EOF
```

#### Step 2.3ï¼šå¢åŠ çµæ§‹åŒ–è³‡æ–™ï¼ˆJSON-LDï¼‰

```typescript
// src/app/cards/[id]/page.tsx

export default async function CardPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = await params;
  const card = getTarotCardById(id);

  if (!card) {
    notFound();
  }

  const suitNames = {
    major: "å¤§é˜¿çˆ¾å…‹ç´",
    cups: "è–æ¯",
    pentacles: "é‡‘å¹£",
    swords: "å¯¶åŠ",
    wands: "æ¬Šæ–",
  };

  // çµæ§‹åŒ–è³‡æ–™
  const jsonLd = {
    "@context": "https://schema.org",
    "@type": "Article",
    headline: `${card.name} (${card.nameEn})`,
    image: card.imageUrl,
    description: card.description,
    author: {
      "@type": "Organization",
      name: "Wade Through Tarot",
    },
    publisher: {
      "@type": "Organization",
      name: "Wade Through Tarot",
      logo: {
        "@type": "ImageObject",
        url: "/logo.png",
      },
    },
    mainEntityOfPage: {
      "@type": "WebPage",
      "@id": `https://wade-through-tarot.vercel.app/cards/${card.id}`,
    },
    keywords: card.keywords.join(", "),
    articleSection: suitNames[card.suit],
  };

  return (
    <>
      {/* JSON-LD */}
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
      />
      <CardDetailClient card={card} />
    </>
  );
}
```

#### Step 2.4ï¼šæ–°å¢ Breadcrumb å°èˆª

```typescript
// src/components/Breadcrumb.tsx

import Link from "next/link";

interface BreadcrumbItem {
  label: string;
  href: string;
}

interface Props {
  items: BreadcrumbItem[];
}

export function Breadcrumb({ items }: Props) {
  return (
    <nav aria-label="éºµåŒ…å±‘å°èˆª" className="mb-4">
      <ol className="flex items-center gap-2 text-sm">
        <li>
          <Link
            href="/"
            className="text-blue-300 hover:text-blue-100 transition-colors"
          >
            é¦–é 
          </Link>
        </li>
        {items.map((item, index) => (
          <li key={item.href} className="flex items-center gap-2">
            <span className="text-gray-400">/</span>
            {index === items.length - 1 ? (
              <span className="text-white font-medium">{item.label}</span>
            ) : (
              <Link
                href={item.href}
                className="text-blue-300 hover:text-blue-100 transition-colors"
              >
                {item.label}
              </Link>
            )}
          </li>
        ))}
      </ol>
    </nav>
  );
}

// åœ¨å¡ç‰Œé é¢ä¸­ä½¿ç”¨
<Breadcrumb
  items={[
    { label: "å¡”ç¾…ç‰Œåœ–é‘‘", href: "/cards" },
    { label: suitNames[card.suit], href: `/cards#${card.suit}` },
    { label: card.name, href: `/cards/${card.id}` },
  ]}
/>;
```

#### Step 2.5ï¼šå¢åŠ ç›¸é—œå¡ç‰Œæ¨è–¦

```typescript
// src/data/tarotCards.ts æ–°å¢å‡½æ•¸

export function getRelatedCards(cardId: string, limit: number = 3): TarotCard[] {
  const card = getTarotCardById(cardId)
  if (!card) return []

  const allCards = getAllTarotCards()

  // å„ªå…ˆæ¨è–¦åŒèŠ±è‰²çš„å¡ç‰Œ
  const samesuit = allCards.filter(
    c => c.id !== cardId && c.suit === card.suit
  )

  // éš¨æ©Ÿé¸æ“‡
  return samesuit
    .sort(() => Math.random() - 0.5)
    .slice(0, limit)
}

// åœ¨å¡ç‰Œé é¢ä¸­ä½¿ç”¨
const relatedCards = getRelatedCards(card.id)

// UI
<section className="mt-12">
  <h2 className="text-2xl font-bold text-white mb-6">ç›¸é—œå¡ç‰Œ</h2>
  <div className="grid grid-cols-3 gap-4">
    {relatedCards.map(relatedCard => (
      <Link
        key={relatedCard.id}
        href={`/cards/${relatedCard.id}`}
        className="block bg-white/10 backdrop-blur-sm rounded-lg p-4
                   hover:bg-white/20 transition-colors"
      >
        <div className="aspect-[3/5] relative mb-2">
          <Image
            src={relatedCard.imageUrl}
            alt={relatedCard.name}
            fill
            className="object-contain"
          />
        </div>
        <h3 className="text-white text-sm font-medium text-center">
          {relatedCard.name}
        </h3>
      </Link>
    ))}
  </div>
</section>
```

#### Step 2.6ï¼šå»ºç«‹ Sitemap

```typescript
// src/app/sitemap.ts

import { MetadataRoute } from "next";
import { getAllTarotCards } from "@/data/tarotCards";

export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = "https://wade-through-tarot.vercel.app";
  const allCards = getAllTarotCards();

  const cardUrls = allCards.map((card) => ({
    url: `${baseUrl}/cards/${card.id}`,
    lastModified: new Date(),
    changeFrequency: "monthly" as const,
    priority: 0.8,
  }));

  return [
    {
      url: baseUrl,
      lastModified: new Date(),
      changeFrequency: "daily",
      priority: 1,
    },
    {
      url: `${baseUrl}/cards`,
      lastModified: new Date(),
      changeFrequency: "weekly",
      priority: 0.9,
    },
    ...cardUrls,
    {
      url: `${baseUrl}/learn`,
      lastModified: new Date(),
      changeFrequency: "monthly",
      priority: 0.7,
    },
    {
      url: `${baseUrl}/about`,
      lastModified: new Date(),
      changeFrequency: "monthly",
      priority: 0.5,
    },
  ];
}
```

#### Step 2.7ï¼šå»ºç«‹ robots.txt

```typescript
// src/app/robots.ts

import { MetadataRoute } from "next";

export default function robots(): MetadataRoute.Robots {
  return {
    rules: {
      userAgent: "*",
      allow: "/",
      disallow: ["/api/", "/admin/"],
    },
    sitemap: "https://wade-through-tarot.vercel.app/sitemap.xml",
  };
}
```

### âœ… é©—è­‰æ¸…å–®

- [x] æ‰€æœ‰å¡ç‰Œé é¢å·²æ”¹ç‚º SSG âœ… (78 å¼µå¡ç‰Œéœæ…‹ç”Ÿæˆ, 2026-01-07)
- [x] Meta tags å‹•æ…‹ç”Ÿæˆæ­£å¸¸ âœ… (generateMetadata åŒ…å« title, description, keywords, OG, Twitter)
- [x] JSON-LD çµæ§‹åŒ–è³‡æ–™æ­£ç¢º âœ… (Schema.org Article type)
- [x] Breadcrumb å°èˆªå·²å¯¦ä½œ âœ… (é¦–é  > å¡”ç¾…ç‰Œåœ–é‘‘ > èŠ±è‰² > å¡ç‰Œ)
- [x] ç›¸é—œå¡ç‰Œæ¨è–¦å·²å¯¦ä½œ âœ… (åŒèŠ±è‰²å¡ç‰Œæ¨è–¦, 3 å¼µ)
- [x] Sitemap å·²ç”Ÿæˆ âœ… (sitemap.ts åŒ…å«æ‰€æœ‰å¡ç‰Œ)
- [x] robots.txt å·²è¨­å®š âœ… (robots.ts å…è¨±æ‰€æœ‰çˆ¬èŸ²)
- [ ] Google Search Console å·²æäº¤ sitemap (å¾…æ‰‹å‹•æäº¤)

---

## é …ç›® 3ï¼šç•«é¢æ•´ç† - é é¢æ•´ä½µ

### ğŸ“ ç›®æ¨™

åˆä½µã€Œé—œæ–¼æˆ‘å€‘ã€èˆ‡ã€Œéš±ç§æ¬Šæ”¿ç­–ã€å…©é æˆä¸€é ï¼Œç°¡åŒ–ç¶²ç«™çµæ§‹

### ğŸ¯ æˆåŠŸæ¨™æº–

- [x] æ–°å¢çµ±ä¸€çš„ã€Œé—œæ–¼èˆ‡éš±ç§ã€é é¢ âœ… (2026-01-07)
- [x] å…§å®¹å®Œæ•´æ•´åˆ âœ… (Tab åˆ‡æ›åŠŸèƒ½)
- [x] èˆŠè·¯ç”±å·²åˆªé™¤ âœ… (/about, /privacy å®Œå…¨ç§»é™¤)
- [x] å…§éƒ¨é€£çµå·²æ›´æ–° âœ… (layout.tsx å°èˆªèˆ‡é è…³)

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 3.1ï¼šå»ºç«‹æ–°çš„æ•´åˆé é¢

```bash
# å»ºç«‹æ–°é é¢
mkdir -p src/app/info
cat > src/app/info/page.tsx << 'EOF'
"use client"

import { useState } from 'react'
import Link from 'next/link'
import { cn } from '@/utils/helpers'

export default function InfoPage() {
  const [activeTab, setActiveTab] = useState<'about' | 'privacy'>('about')

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
      <div className="max-w-4xl mx-auto py-8 px-4">
        {/* å°èˆª */}
        <nav className="mb-8">
          <Link
            href="/"
            className="text-blue-300 hover:text-blue-100 transition-colors"
          >
            â† è¿”å›é¦–é 
          </Link>
        </nav>

        {/* Tab åˆ‡æ› */}
        <div className="bg-white/10 backdrop-blur-sm rounded-lg overflow-hidden">
          {/* Tab Headers */}
          <div className="flex border-b border-white/20">
            <button
              onClick={() => setActiveTab('about')}
              className={cn(
                "flex-1 px-6 py-4 text-lg font-medium transition-colors",
                activeTab === 'about'
                  ? 'bg-white/20 text-white'
                  : 'text-blue-200 hover:bg-white/10'
              )}
            >
              é—œæ–¼æˆ‘å€‘
            </button>
            <button
              onClick={() => setActiveTab('privacy')}
              className={cn(
                "flex-1 px-6 py-4 text-lg font-medium transition-colors",
                activeTab === 'privacy'
                  ? 'bg-white/20 text-white'
                  : 'text-blue-200 hover:bg-white/10'
              )}
            >
              éš±ç§æ¬Šæ”¿ç­–
            </button>
          </div>

          {/* Tab Content */}
          <div className="p-8">
            {activeTab === 'about' && (
              <section>
                <h1 className="text-3xl font-bold text-white mb-6">
                  é—œæ–¼ Wade Through Tarot
                </h1>

                <div className="space-y-4 text-blue-100 leading-relaxed">
                  <p>
                    Wade Through Tarot æ˜¯ä¸€å€‹è‡´åŠ›æ–¼æ¨å»£å¡”ç¾…æ–‡åŒ–èˆ‡è‡ªæˆ‘æ¢ç´¢çš„ç·šä¸Šå¹³å°ã€‚
                    æˆ‘å€‘çµåˆ AI æŠ€è¡“èˆ‡ç¶“å…¸å¡”ç¾…æ™ºæ…§ï¼Œè®“æ¯å€‹äººéƒ½èƒ½éš¨æ™‚éš¨åœ°ç²å¾—å°ˆæ¥­çš„å¡”ç¾…æŒ‡å¼•ã€‚
                  </p>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    æˆ‘å€‘çš„ä½¿å‘½
                  </h2>
                  <ul className="list-disc list-inside space-y-2">
                    <li>è®“å¡”ç¾…å åœè®Šå¾—æ›´å®¹æ˜“è¦ªè¿‘</li>
                    <li>æä¾›æº–ç¢ºã€å°ˆæ¥­çš„ç‰Œç¾©è§£è®€</li>
                    <li>å”åŠ©ä½¿ç”¨è€…è‡ªæˆ‘æ¢ç´¢èˆ‡æˆé•·</li>
                    <li>ä¿è­·ä½¿ç”¨è€…éš±ç§èˆ‡è³‡æ–™å®‰å…¨</li>
                  </ul>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    æˆ‘å€‘çš„ç‰¹è‰²
                  </h2>
                  <ul className="list-disc list-inside space-y-2">
                    <li>78 å¼µå®Œæ•´å‰ç‰¹å¡”ç¾…ç‰Œ</li>
                    <li>å¤šç¨®ç‰Œé™£é¸æ“‡ï¼ˆå–®å¼µç‰Œã€ä¸‰å¼µç‰Œã€å¡çˆ¾ç‰¹åå­—ï¼‰</li>
                    <li>è©³ç´°çš„æ­£é€†ä½è§£æ</li>
                    <li>å®Œå…¨å…è²»ä½¿ç”¨</li>
                    <li>éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´å„ç¨®è£ç½®</li>
                  </ul>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    è¯çµ¡æˆ‘å€‘
                  </h2>
                  <p>
                    å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€é GitHub Issues èˆ‡æˆ‘å€‘è¯ç¹«ã€‚
                  </p>
                </div>
              </section>
            )}

            {activeTab === 'privacy' && (
              <section>
                <h1 className="text-3xl font-bold text-white mb-6">
                  éš±ç§æ¬Šæ”¿ç­–
                </h1>

                <div className="space-y-4 text-blue-100 leading-relaxed">
                  <p className="text-sm text-gray-300">
                    æœ€å¾Œæ›´æ–°æ—¥æœŸï¼š2026-01-07
                  </p>

                  <p>
                    æˆ‘å€‘é‡è¦–æ‚¨çš„éš±ç§ã€‚æœ¬éš±ç§æ¬Šæ”¿ç­–èªªæ˜ Wade Through Tarot
                    å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨å’Œä¿è­·æ‚¨çš„è³‡è¨Šã€‚
                  </p>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    è³‡æ–™æ”¶é›†èˆ‡ä½¿ç”¨
                  </h2>
                  <ul className="list-disc list-inside space-y-2">
                    <li>
                      <strong>å åœè³‡æ–™</strong>ï¼šæ‚¨çš„å åœå•é¡Œèˆ‡çµæœåƒ…å„²å­˜åœ¨æ‚¨çš„ç€è¦½å™¨æœ¬åœ°ç«¯ï¼ˆLocalStorageï¼‰ï¼Œ
                      ä¸æœƒä¸Šå‚³è‡³ä¼ºæœå™¨æˆ–ç”¨æ–¼ä»»ä½•å•†æ¥­ç”¨é€”
                    </li>
                    <li>
                      <strong>åˆ†ææ•¸æ“š</strong>ï¼šç¶²ç«™ä½¿ç”¨ Google Analytics
                      æ”¶é›†åŒ¿åçš„æµé‡æ•¸æ“šï¼Œç”¨æ–¼äº†è§£ä½¿ç”¨è€…è¡Œç‚ºå’Œæ”¹å–„æœå‹™
                    </li>
                    <li>
                      <strong>å»£å‘Šæœå‹™</strong>ï¼šç¶²ç«™ä½¿ç”¨ Google AdSense
                      é¡¯ç¤ºå»£å‘Šï¼ŒGoogle å¯èƒ½æœƒä½¿ç”¨ cookies è¿½è¹¤æ‚¨çš„ç€è¦½è¡Œç‚º
                    </li>
                  </ul>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    æˆ‘å€‘ä¸æœƒæ”¶é›†çš„è³‡æ–™
                  </h2>
                  <ul className="list-disc list-inside space-y-2">
                    <li>å€‹äººèº«ä»½è³‡è¨Šï¼ˆå§“åã€é›»è©±ã€åœ°å€ç­‰ï¼‰</li>
                    <li>ä¿¡ç”¨å¡æˆ–ä»˜æ¬¾è³‡è¨Š</li>
                    <li>æ‚¨çš„å…·é«”å åœå•é¡Œå…§å®¹</li>
                  </ul>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    Cookies ä½¿ç”¨
                  </h2>
                  <p>
                    æœ¬ç¶²ç«™ä½¿ç”¨ cookies ä¾†æä¾›æ›´å¥½çš„ä½¿ç”¨é«”é©—ã€‚æ‚¨å¯ä»¥é€éç€è¦½å™¨è¨­å®š
                    æ‹’çµ•æˆ–åˆªé™¤ cookiesï¼Œä½†é€™å¯èƒ½æœƒå½±éŸ¿éƒ¨åˆ†åŠŸèƒ½çš„æ­£å¸¸é‹ä½œã€‚
                  </p>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    è³‡æ–™å®‰å…¨
                  </h2>
                  <p>
                    æˆ‘å€‘æ¡å–åˆç†çš„æŠ€è¡“èˆ‡ç®¡ç†æªæ–½ä¾†ä¿è­·æ‚¨çš„è³‡æ–™å®‰å…¨ã€‚ç„¶è€Œï¼Œ
                    è«‹æ³¨æ„æ²’æœ‰ä»»ä½•ç¶²è·¯å‚³è¼¸æˆ–é›»å­å„²å­˜æ–¹å¼æ˜¯ 100% å®‰å…¨çš„ã€‚
                  </p>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    ç¬¬ä¸‰æ–¹æœå‹™
                  </h2>
                  <ul className="list-disc list-inside space-y-2">
                    <li>
                      <strong>Google Analytics</strong>ï¼š{' '}
                      <a
                        href="https://policies.google.com/privacy"
                        target="_blank"
                        rel="noopener noreferrer"
                        className="text-blue-300 hover:text-blue-100 underline"
                      >
                        Google éš±ç§æ¬Šæ”¿ç­–
                      </a>
                    </li>
                    <li>
                      <strong>Google AdSense</strong>ï¼š{' '}
                      <a
                        href="https://policies.google.com/technologies/ads"
                        target="_blank"
                        rel="noopener noreferrer"
                        className="text-blue-300 hover:text-blue-100 underline"
                      >
                        Google å»£å‘Šæ”¿ç­–
                      </a>
                    </li>
                  </ul>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    æ”¿ç­–è®Šæ›´
                  </h2>
                  <p>
                    æˆ‘å€‘å¯èƒ½æœƒä¸å®šæœŸæ›´æ–°æœ¬éš±ç§æ¬Šæ”¿ç­–ã€‚ä»»ä½•é‡å¤§è®Šæ›´éƒ½æœƒåœ¨æœ¬é é¢å…¬å‘Šã€‚
                    å»ºè­°æ‚¨å®šæœŸæŸ¥çœ‹æœ¬æ”¿ç­–ä»¥äº†è§£æœ€æ–°è³‡è¨Šã€‚
                  </p>

                  <h2 className="text-xl font-semibold text-white mt-8 mb-4">
                    è¯çµ¡æˆ‘å€‘
                  </h2>
                  <p>
                    å¦‚å°æœ¬éš±ç§æ¬Šæ”¿ç­–æœ‰ä»»ä½•ç–‘å•ï¼Œè«‹é€é GitHub Issues èˆ‡æˆ‘å€‘è¯ç¹«ã€‚
                  </p>
                </div>
              </section>
            )}
          </div>
        </div>
      </div>
    </div>
  )
}
EOF
```

#### Step 3.2ï¼šè¨­å®šèˆŠè·¯ç”±é‡å°å‘

```typescript
// src/app/about/page.tsx - æ”¹ç‚ºé‡å°å‘

import { redirect } from "next/navigation";

export default function AboutPage() {
  redirect("/info");
}

// src/app/privacy/page.tsx - æ”¹ç‚ºé‡å°å‘

import { redirect } from "next/navigation";

export default function PrivacyPage() {
  redirect("/info");
}
```

#### Step 3.3ï¼šæ›´æ–°å…§éƒ¨é€£çµ

```bash
# æœå°‹ä¸¦æ›´æ–°æ‰€æœ‰ /about å’Œ /privacy é€£çµ
grep -r "href=\"/about\"" src/
grep -r "href=\"/privacy\"" src/

# å°‡å®ƒå€‘æ”¹ç‚º /info
# ä¾‹å¦‚åœ¨ footer æˆ– navigation ä¸­
<Link href="/info">é—œæ–¼èˆ‡éš±ç§</Link>
```

#### Step 3.4ï¼šæ›´æ–° Sitemap

```typescript
// src/app/sitemap.ts - æ›´æ–°

export default function sitemap(): MetadataRoute.Sitemap {
  return [
    // ... å…¶ä»–è·¯ç”±
    {
      url: `${baseUrl}/info`,
      lastModified: new Date(),
      changeFrequency: "monthly",
      priority: 0.5,
    },
    // ç§»é™¤ /about å’Œ /privacy
  ];
}
```

### âœ… é©—è­‰æ¸…å–®

- [x] æ–°çš„ /info é é¢å·²å»ºç«‹ âœ… (3.08 kB, Client Component with Tab)
- [x] Tab åˆ‡æ›åŠŸèƒ½æ­£å¸¸ âœ… (useState å¯¦ä½œ 'about' | 'privacy' åˆ‡æ›)
- [x] /about å·²åˆªé™¤ âœ… (ç›®éŒ„èˆ‡æª”æ¡ˆå®Œå…¨ç§»é™¤, 404 Not Found)
- [x] /privacy å·²åˆªé™¤ âœ… (ç›®éŒ„èˆ‡æª”æ¡ˆå®Œå…¨ç§»é™¤, 404 Not Found)
- [x] æ‰€æœ‰å…§éƒ¨é€£çµå·²æ›´æ–° âœ… (layout.tsx å°èˆª: 2 è™• â†’ 1 è™•, é è…³å·²æ›´æ–°)
- [x] Sitemap å·²æ›´æ–° âœ… (/about, /privacy ç§»é™¤, /info æ–°å¢)
- [x] é é¢åœ¨å„è£ç½®ä¸Šé¡¯ç¤ºæ­£å¸¸ âœ… (éŸ¿æ‡‰å¼è¨­è¨ˆ: flex-col â†’ sm:flex-row)
- [x] å»ºç½®é©—è­‰ âœ… (88/88 é é¢, å¾ 90 é æ¸›å°‘åˆ° 88 é )

---

## é …ç›® 4ï¼šè³‡æ–™æŒä¹…åŒ–

### ğŸ“ ç›®æ¨™

å¯¦ä½œä½¿ç”¨è€…è³‡æ–™çš„æœ¬åœ°å„²å­˜ï¼ŒåŒ…å«å åœæ­·å²ã€åå¥½è¨­å®šç­‰

### ğŸ¯ æˆåŠŸæ¨™æº–

- [x] å åœæ­·å²å¯ä¿å­˜èˆ‡æŸ¥çœ‹
- [x] ä½¿ç”¨è€…åå¥½è¨­å®šå¯ä¿å­˜
- [x] è³‡æ–™åŒ¯å‡º/åŒ¯å…¥åŠŸèƒ½å®Œæˆ
- [x] è³‡æ–™æ¸…é™¤åŠŸèƒ½å®Œæˆ

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 4.1ï¼šè¨­è¨ˆè³‡æ–™çµæ§‹

```typescript
// src/types/storage.ts

export interface StoredReading {
  id: string;
  timestamp: number;
  question: string;
  spreadType: "single" | "three-card" | "celtic-cross";
  cards: Array<{
    cardId: string;
    position: number;
    isReversed: boolean;
  }>;
}

export interface UserPreferences {
  theme?: "light" | "dark" | "auto";
  language?: "zh-TW" | "en";
  notifications?: boolean;
  defaultSpreadType?: "single" | "three-card" | "celtic-cross";
}

export interface AppStorage {
  readings: StoredReading[];
  preferences: UserPreferences;
  version: string;
}
```

#### Step 4.2ï¼šå¯¦ä½œ Storage Service

```bash
cat > src/services/storage.ts << 'EOF'
import { AppStorage, StoredReading, UserPreferences } from '@/types/storage'

const STORAGE_KEY = 'wade-tarot-data'
const STORAGE_VERSION = '1.0.0'

class StorageService {
  private getStorage(): AppStorage {
    if (typeof window === 'undefined') {
      return this.getDefaultStorage()
    }

    try {
      const data = localStorage.getItem(STORAGE_KEY)
      if (!data) {
        return this.getDefaultStorage()
      }

      const parsed = JSON.parse(data) as AppStorage

      // ç‰ˆæœ¬æª¢æŸ¥èˆ‡é·ç§»
      if (parsed.version !== STORAGE_VERSION) {
        return this.migrateStorage(parsed)
      }

      return parsed
    } catch (error) {
      console.error('Failed to load storage:', error)
      return this.getDefaultStorage()
    }
  }

  private setStorage(data: AppStorage): void {
    if (typeof window === 'undefined') return

    try {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data))
    } catch (error) {
      console.error('Failed to save storage:', error)
    }
  }

  private getDefaultStorage(): AppStorage {
    return {
      readings: [],
      preferences: {},
      version: STORAGE_VERSION,
    }
  }

  private migrateStorage(oldData: AppStorage): AppStorage {
    // æœªä¾†ç‰ˆæœ¬å‡ç´šæ™‚çš„è³‡æ–™é·ç§»é‚è¼¯
    return {
      ...oldData,
      version: STORAGE_VERSION,
    }
  }

  // å åœè¨˜éŒ„ç®¡ç†
  saveReading(reading: StoredReading): void {
    const storage = this.getStorage()
    storage.readings.unshift(reading) // æ–°çš„è¨˜éŒ„æ”¾åœ¨æœ€å‰é¢

    // é™åˆ¶æœ€å¤šä¿å­˜ 10 ç­†
    if (storage.readings.length > 10) {
      storage.readings = storage.readings.slice(0, 10)
    }

    this.setStorage(storage)
  }

  getAllReadings(): StoredReading[] {
    const storage = this.getStorage()
    return storage.readings
  }

  getReading(id: string): StoredReading | undefined {
    const storage = this.getStorage()
    return storage.readings.find(r => r.id === id)
  }

  deleteReading(id: string): void {
    const storage = this.getStorage()
    storage.readings = storage.readings.filter(r => r.id !== id)
    this.setStorage(storage)
  }

  clearAllReadings(): void {
    const storage = this.getStorage()
    storage.readings = []
    this.setStorage(storage)
  }

  // åå¥½è¨­å®šç®¡ç†
  getPreferences(): UserPreferences {
    const storage = this.getStorage()
    return storage.preferences
  }

  updatePreferences(preferences: Partial<UserPreferences>): void {
    const storage = this.getStorage()
    storage.preferences = {
      ...storage.preferences,
      ...preferences,
    }
    this.setStorage(storage)
  }

  // è³‡æ–™åŒ¯å‡º/åŒ¯å…¥
  exportData(): string {
    const storage = this.getStorage()
    return JSON.stringify(storage, null, 2)
  }

  importData(jsonData: string): boolean {
    try {
      const data = JSON.parse(jsonData) as AppStorage

      // é©—è­‰è³‡æ–™æ ¼å¼
      if (!data.readings || !Array.isArray(data.readings)) {
        throw new Error('Invalid data format')
      }

      this.setStorage(data)
      return true
    } catch (error) {
      console.error('Failed to import data:', error)
      return false
    }
  }

  // æ¸…é™¤æ‰€æœ‰è³‡æ–™
  clearAll(): void {
    if (typeof window === 'undefined') return
    localStorage.removeItem(STORAGE_KEY)
  }
}

export const storageService = new StorageService()
EOF
```

#### Step 4.3ï¼šæ•´åˆåˆ° Store

```typescript
// src/store/tarotStore.ts - æ›´æ–°

import { storageService } from "@/services/storage";

export const useTarotStore = create<TarotStore>((set, get) => ({
  // ... ç¾æœ‰ç‹€æ…‹

  saveReading: () => {
    const { currentQuestion, selectedCards, spreadType } = get();

    if (selectedCards.length === 0) return;

    const newReading = {
      id: `reading-${Date.now()}`,
      timestamp: Date.now(),
      question: currentQuestion,
      spreadType,
      cards: selectedCards.map((sc) => ({
        cardId: sc.card.id,
        position: sc.position,
        isReversed: sc.isReversed,
      })),
    };

    // ä¿å­˜åˆ° localStorage
    storageService.saveReading(newReading);

    // ä¹Ÿä¿å­˜åˆ° store çš„ readingHistory
    set({
      readingHistory: [newReading, ...get().readingHistory],
    });
  },

  // è¼‰å…¥æ­·å²è¨˜éŒ„
  loadReadingHistory: () => {
    const readings = storageService.getAllReadings();
    set({ readingHistory: readings });
  },
}));
```

#### Step 4.4ï¼šå»ºç«‹æ­·å²è¨˜éŒ„é é¢

```bash
mkdir -p src/app/history
cat > src/app/history/page.tsx << 'EOF'
"use client"

import { useEffect, useState } from 'react'
import Link from 'next/link'
import { StoredReading } from '@/types/storage'
import { storageService } from '@/services/storage'
import { getTarotCardById } from '@/data/tarotCards'

export default function HistoryPage() {
  const [readings, setReadings] = useState<StoredReading[]>([])

  useEffect(() => {
    setReadings(storageService.getAllReadings())
  }, [])

  const handleDelete = (id: string) => {
    if (confirm('ç¢ºå®šè¦åˆªé™¤é€™ç­†è¨˜éŒ„å—ï¼Ÿ')) {
      storageService.deleteReading(id)
      setReadings(storageService.getAllReadings())
    }
  }

  const handleClearAll = () => {
    if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è¨˜éŒ„å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸï¼')) {
      storageService.clearAllReadings()
      setReadings([])
    }
  }

  const handleExport = () => {
    const data = storageService.exportData()
    const blob = new Blob([data], { type: 'application/json' })
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = `tarot-readings-${new Date().toISOString()}.json`
    a.click()
    URL.revokeObjectURL(url)
  }

  const spreadTypeNames = {
    single: 'å–®å¼µç‰Œ',
    'three-card': 'ä¸‰å¼µç‰Œ',
    'celtic-cross': 'å¡çˆ¾ç‰¹åå­—',
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
      <div className="max-w-6xl mx-auto py-8 px-4">
        <nav className="mb-8">
          <Link
            href="/"
            className="text-blue-300 hover:text-blue-100 transition-colors"
          >
            â† è¿”å›é¦–é 
          </Link>
        </nav>

        <div className="flex items-center justify-between mb-8">
          <h1 className="text-3xl font-bold text-white">å åœæ­·å²</h1>
          <div className="flex gap-4">
            <button
              onClick={handleExport}
              className="px-4 py-2 bg-blue-500 hover:bg-blue-600
                         text-white rounded-lg transition-colors"
            >
              åŒ¯å‡ºè³‡æ–™
            </button>
            <button
              onClick={handleClearAll}
              className="px-4 py-2 bg-red-500/20 hover:bg-red-500/30
                         text-red-200 rounded-lg transition-colors"
            >
              æ¸…é™¤å…¨éƒ¨
            </button>
          </div>
        </div>

        {readings.length === 0 ? (
          <div className="text-center py-16">
            <p className="text-blue-200 text-lg mb-4">å°šç„¡å åœè¨˜éŒ„</p>
            <Link
              href="/"
              className="inline-block px-6 py-3 bg-blue-500 hover:bg-blue-600
                         text-white rounded-lg transition-colors"
            >
              é–‹å§‹å åœ
            </Link>
          </div>
        ) : (
          <div className="space-y-4">
            {readings.map((reading) => (
              <div
                key={reading.id}
                className="bg-white/10 backdrop-blur-sm rounded-lg p-6"
              >
                <div className="flex items-start justify-between mb-4">
                  <div>
                    <h3 className="text-xl font-semibold text-white mb-2">
                      {reading.question || 'æœªè¼¸å…¥å•é¡Œ'}
                    </h3>
                    <div className="flex items-center gap-4 text-sm text-blue-200">
                      <span>{spreadTypeNames[reading.spreadType]}</span>
                      <span>â€¢</span>
                      <span>
                        {new Date(reading.timestamp).toLocaleDateString('zh-TW', {
                          year: 'numeric',
                          month: 'long',
                          day: 'numeric',
                          hour: '2-digit',
                          minute: '2-digit',
                        })}
                      </span>
                    </div>
                  </div>
                  <button
                    onClick={() => handleDelete(reading.id)}
                    className="text-red-300 hover:text-red-100 transition-colors"
                  >
                    åˆªé™¤
                  </button>
                </div>

                <div className="flex gap-4 overflow-x-auto">
                  {reading.cards.map((cardData) => {
                    const card = getTarotCardById(cardData.cardId)
                    if (!card) return null

                    return (
                      <div
                        key={`${reading.id}-${cardData.position}`}
                        className="flex-shrink-0"
                      >
                        <div className="text-xs text-blue-200 mb-2">
                          ä½ç½® {cardData.position + 1}
                        </div>
                        <div className="w-24 h-36 bg-white rounded-lg relative">
                          {/* å¡ç‰Œåœ–ç‰‡ */}
                        </div>
                        <div className="text-center mt-2">
                          <div className="text-sm text-white">{card.name}</div>
                          {cardData.isReversed && (
                            <div className="text-xs text-red-300">é€†ä½</div>
                          )}
                        </div>
                      </div>
                    )
                  })}
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  )
}
EOF
```

#### Step 4.5ï¼šå¢åŠ è¨­å®šé é¢

```bash
mkdir -p src/app/settings
cat > src/app/settings/page.tsx << 'EOF'
"use client"

import { useEffect, useState } from 'react'
import Link from 'next/link'
import { UserPreferences } from '@/types/storage'
import { storageService } from '@/services/storage'

export default function SettingsPage() {
  const [preferences, setPreferences] = useState<UserPreferences>({})
  const [saved, setSaved] = useState(false)

  useEffect(() => {
    setPreferences(storageService.getPreferences())
  }, [])

  const handleSave = () => {
    storageService.updatePreferences(preferences)
    setSaved(true)
    setTimeout(() => setSaved(false), 2000)
  }

  const handleImport = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0]
    if (!file) return

    const reader = new FileReader()
    reader.onload = (e) => {
      const content = e.target?.result as string
      if (storageService.importData(content)) {
        alert('åŒ¯å…¥æˆåŠŸï¼')
        window.location.reload()
      } else {
        alert('åŒ¯å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥æª”æ¡ˆæ ¼å¼')
      }
    }
    reader.readAsText(file)
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
      <div className="max-w-2xl mx-auto py-8 px-4">
        <nav className="mb-8">
          <Link
            href="/"
            className="text-blue-300 hover:text-blue-100 transition-colors"
          >
            â† è¿”å›é¦–é 
          </Link>
        </nav>

        <h1 className="text-3xl font-bold text-white mb-8">è¨­å®š</h1>

        <div className="space-y-6">
          {/* åå¥½è¨­å®š */}
          <section className="bg-white/10 backdrop-blur-sm rounded-lg p-6">
            <h2 className="text-xl font-semibold text-white mb-4">åå¥½è¨­å®š</h2>

            <div className="space-y-4">
              <div>
                <label className="block text-blue-100 mb-2">é è¨­ç‰Œé™£</label>
                <select
                  value={preferences.defaultSpreadType || 'three-card'}
                  onChange={(e) =>
                    setPreferences({
                      ...preferences,
                      defaultSpreadType: e.target.value as any,
                    })
                  }
                  className="w-full px-4 py-2 rounded-lg bg-white/20 text-white
                             border border-white/30 focus:border-blue-400"
                >
                  <option value="single">å–®å¼µç‰Œ</option>
                  <option value="three-card">ä¸‰å¼µç‰Œ</option>
                  <option value="celtic-cross">å¡çˆ¾ç‰¹åå­—</option>
                </select>
              </div>

              <button
                onClick={handleSave}
                className="px-6 py-3 bg-blue-500 hover:bg-blue-600
                           text-white rounded-lg transition-colors"
              >
                {saved ? 'âœ“ å·²å„²å­˜' : 'å„²å­˜è¨­å®š'}
              </button>
            </div>
          </section>

          {/* è³‡æ–™ç®¡ç† */}
          <section className="bg-white/10 backdrop-blur-sm rounded-lg p-6">
            <h2 className="text-xl font-semibold text-white mb-4">è³‡æ–™ç®¡ç†</h2>

            <div className="space-y-4">
              <div>
                <label className="block text-blue-100 mb-2">åŒ¯å…¥è³‡æ–™</label>
                <input
                  type="file"
                  accept=".json"
                  onChange={handleImport}
                  className="w-full px-4 py-2 rounded-lg bg-white/20 text-white"
                />
              </div>

              <button
                onClick={() => storageService.clearAll()}
                className="px-6 py-3 bg-red-500/20 hover:bg-red-500/30
                           text-red-200 rounded-lg transition-colors"
              >
                æ¸…é™¤æ‰€æœ‰è³‡æ–™
              </button>
            </div>
          </section>
        </div>
      </div>
    </div>
  )
}
EOF
```

### âœ… é©—è­‰æ¸…å–®

- [x] Storage Service å¯¦ä½œå®Œæˆï¼ˆé™åˆ¶æ”¹ç‚º 10 ç­†è¨˜éŒ„ï¼‰
- [x] å åœè¨˜éŒ„å¯æ­£ç¢ºä¿å­˜
- [x] æ­·å²è¨˜éŒ„é é¢æ­£å¸¸é‹ä½œ
- [x] è³‡æ–™åŒ¯å‡ºåŠŸèƒ½æ­£å¸¸
- [x] è³‡æ–™åŒ¯å…¥åŠŸèƒ½æ­£å¸¸
- [x] è¨­å®šé é¢æ­£å¸¸é‹ä½œ
- [x] åœ¨ç„¡ç—•æ¨¡å¼ä¸‹ä¸æœƒå ±éŒ¯

---

## é …ç›® 5ï¼šSEO å„ªåŒ–

### ğŸ“ ç›®æ¨™

å…¨é¢å„ªåŒ–ç¶²ç«™ SEOï¼Œæå‡æœå°‹å¼•æ“æ’åèˆ‡æµé‡

### ğŸ¯ æˆåŠŸæ¨™æº–

- [ ] Lighthouse SEO åˆ†æ•¸ > 95
- [ ] æ‰€æœ‰é é¢éƒ½æœ‰é©ç•¶çš„ meta tags
- [ ] çµæ§‹åŒ–è³‡æ–™æ­£ç¢ºå¯¦ä½œ
- [ ] Core Web Vitals é”æ¨™
- [ ] Google Search Console ç„¡éŒ¯èª¤

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 5.1ï¼šå„ªåŒ–æ ¹ layout metadata

```typescript
// src/app/layout.tsx

import type { Metadata } from "next";

export const metadata: Metadata = {
  metadataBase: new URL("https://wade-through-tarot.vercel.app"),
  title: {
    default: "Wade Through Tarot - å…è²»ç·šä¸Šå¡”ç¾…å åœ | 78å¼µå¡”ç¾…ç‰Œå®Œæ•´è§£æ",
    template: "%s | Wade Through Tarot",
  },
  description:
    "æä¾›å…è²»ã€å°ˆæ¥­çš„ç·šä¸Šå¡”ç¾…å åœæœå‹™ã€‚åŒ…å«78å¼µå®Œæ•´å‰ç‰¹å¡”ç¾…ç‰Œã€å¤šç¨®ç‰Œé™£é¸æ“‡ã€è©³ç´°çš„æ­£é€†ä½è§£æã€‚éš¨æ™‚éš¨åœ°ç²å¾—å¡”ç¾…æŒ‡å¼•ï¼Œæ¢ç´¢å…§å¿ƒã€é è¦‹æœªä¾†ã€‚",
  keywords: [
    "å¡”ç¾…ç‰Œ",
    "å¡”ç¾…å åœ",
    "ç·šä¸Šå åœ",
    "å…è²»å åœ",
    "å‰ç‰¹å¡”ç¾…",
    "å¡”ç¾…è§£æ",
    "å¡”ç¾…ç‰Œæ„ç¾©",
    "ä¸‰å¼µç‰Œ",
    "å¡çˆ¾ç‰¹åå­—",
    "tarot",
    "tarot reading",
  ],
  authors: [{ name: "Wade Through Tarot" }],
  creator: "Wade Through Tarot",
  publisher: "Wade Through Tarot",
  formatDetection: {
    email: false,
    address: false,
    telephone: false,
  },
  openGraph: {
    type: "website",
    locale: "zh_TW",
    url: "https://wade-through-tarot.vercel.app",
    title: "Wade Through Tarot - å…è²»ç·šä¸Šå¡”ç¾…å åœ",
    description:
      "æä¾›å…è²»ã€å°ˆæ¥­çš„ç·šä¸Šå¡”ç¾…å åœæœå‹™ã€‚åŒ…å«78å¼µå®Œæ•´å‰ç‰¹å¡”ç¾…ç‰Œã€å¤šç¨®ç‰Œé™£é¸æ“‡ã€è©³ç´°çš„æ­£é€†ä½è§£æã€‚",
    siteName: "Wade Through Tarot",
    images: [
      {
        url: "/og-image.png", // éœ€è¦å»ºç«‹
        width: 1200,
        height: 630,
        alt: "Wade Through Tarot",
      },
    ],
  },
  twitter: {
    card: "summary_large_image",
    title: "Wade Through Tarot - å…è²»ç·šä¸Šå¡”ç¾…å åœ",
    description:
      "æä¾›å…è²»ã€å°ˆæ¥­çš„ç·šä¸Šå¡”ç¾…å åœæœå‹™ã€‚åŒ…å«78å¼µå®Œæ•´å‰ç‰¹å¡”ç¾…ç‰Œã€å¤šç¨®ç‰Œé™£é¸æ“‡ã€è©³ç´°çš„æ­£é€†ä½è§£æã€‚",
    images: ["/og-image.png"],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large",
      "max-snippet": -1,
    },
  },
  verification: {
    google: "your-google-verification-code", // éœ€è¦å¾ Google Search Console ç²å–
  },
};
```

#### Step 5.2ï¼šå»ºç«‹ OG Image

```bash
# ä½¿ç”¨ Vercel OG æˆ–æ‰‹å‹•å»ºç«‹
# å»ºè­°å°ºå¯¸ï¼š1200x630px
# å¯ä»¥ä½¿ç”¨ Figma, Canva ç­‰å·¥å…·å»ºç«‹
# å„²å­˜ç‚º public/og-image.png
```

#### Step 5.3ï¼šå„ªåŒ–å„é é¢ metadata

```typescript
// src/app/cards/page.tsx

export const metadata: Metadata = {
  title: "å¡”ç¾…ç‰Œåœ–é‘‘ - 78å¼µå‰ç‰¹å¡”ç¾…ç‰Œå®Œæ•´è§£æ",
  description:
    "ç€è¦½å®Œæ•´çš„78å¼µå‰ç‰¹å¡”ç¾…ç‰Œåœ–é‘‘ï¼ŒåŒ…å«22å¼µå¤§é˜¿çˆ¾å…‹ç´å’Œ56å¼µå°é˜¿çˆ¾å…‹ç´ã€‚æ¯å¼µç‰Œéƒ½æœ‰è©³ç´°çš„æ­£é€†ä½è§£é‡‹ã€é—œéµè©ã€è±¡å¾µæ„ç¾©å’Œå¯¦ç”¨å»ºè­°ã€‚",
  openGraph: {
    title: "å¡”ç¾…ç‰Œåœ–é‘‘ - 78å¼µå‰ç‰¹å¡”ç¾…ç‰Œå®Œæ•´è§£æ",
    description:
      "ç€è¦½å®Œæ•´çš„78å¼µå‰ç‰¹å¡”ç¾…ç‰Œåœ–é‘‘ï¼ŒåŒ…å«22å¼µå¤§é˜¿çˆ¾å…‹ç´å’Œ56å¼µå°é˜¿çˆ¾å…‹ç´ã€‚",
  },
};

// src/app/learn/page.tsx

export const metadata: Metadata = {
  title: "å¡”ç¾…å­¸ç¿’ - å¡”ç¾…ç‰Œå…¥é–€æŒ‡å—",
  description:
    "å­¸ç¿’å¡”ç¾…ç‰Œçš„åŸºç¤çŸ¥è­˜ï¼ŒåŒ…å«å¡”ç¾…ç‰Œæ­·å²ã€ç‰Œé™£ä»‹ç´¹ã€è§£ç‰ŒæŠ€å·§ç­‰ã€‚é©åˆåˆå­¸è€…å…¥é–€çš„å®Œæ•´å¡”ç¾…æ•™å­¸ã€‚",
};
```

#### Step 5.4ï¼šå¢åŠ  FAQ çµæ§‹åŒ–è³‡æ–™

```bash
cat > src/components/FAQ.tsx << 'EOF'
"use client"

export function FAQ() {
  const faqs = [
    {
      question: 'å¡”ç¾…å åœæº–ç¢ºå—ï¼Ÿ',
      answer:
        'å¡”ç¾…ç‰Œæ˜¯ä¸€ç¨®è‡ªæˆ‘æ¢ç´¢çš„å·¥å…·ï¼Œå®ƒé€éè±¡å¾µæ€§çš„åœ–åƒå¹«åŠ©æˆ‘å€‘åæ€ç•¶å‰çš„è™•å¢ƒå’Œå…§å¿ƒç‹€æ…‹ã€‚æº–ç¢ºåº¦å–æ±ºæ–¼å åœè€…çš„è§£è®€èƒ½åŠ›å’Œå•åœè€…çš„é–‹æ”¾ç¨‹åº¦ã€‚',
    },
    {
      question: 'æˆ‘å¯ä»¥æ¯å¤©å åœå—ï¼Ÿ',
      answer:
        'å¯ä»¥ï¼Œä½†å»ºè­°é‡å°ä¸åŒçš„å•é¡Œæˆ–æƒ…æ³é€²è¡Œå åœã€‚éæ–¼é »ç¹åœ°å°±åŒä¸€å•é¡Œå åœå¯èƒ½æœƒå°è‡´æ··äº‚ã€‚',
    },
    {
      question: 'é€†ä½çš„ç‰Œä»£è¡¨ä»€éº¼ï¼Ÿ',
      answer:
        'é€†ä½çš„ç‰Œé€šå¸¸ä»£è¡¨èƒ½é‡çš„é˜»å¡ã€å»¶é²æˆ–å…§åœ¨åŒ–ã€‚å®ƒä¸ä¸€å®šæ˜¯è² é¢çš„ï¼Œè€Œæ˜¯æç¤ºæˆ‘å€‘éœ€è¦å¾ä¸åŒè§’åº¦çœ‹å¾…å•é¡Œã€‚',
    },
  ]

  const jsonLd = {
    '@context': 'https://schema.org',
    '@type': 'FAQPage',
    mainEntity: faqs.map((faq) => ({
      '@type': 'Question',
      name: faq.question,
      acceptedAnswer: {
        '@type': 'Answer',
        text: faq.answer,
      },
    })),
  }

  return (
    <>
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
      />
      <section className="bg-white/10 backdrop-blur-sm rounded-lg p-8 my-8">
        <h2 className="text-2xl font-bold text-white mb-6">å¸¸è¦‹å•é¡Œ</h2>
        <div className="space-y-6">
          {faqs.map((faq, index) => (
            <div key={index}>
              <h3 className="text-lg font-semibold text-blue-100 mb-2">
                {faq.question}
              </h3>
              <p className="text-blue-200">{faq.answer}</p>
            </div>
          ))}
        </div>
      </section>
    </>
  )
}
EOF

# åœ¨é¦–é ä¸­ä½¿ç”¨
// src/app/page.tsx
import { FAQ } from '@/components/FAQ'

// åœ¨ return ä¸­åŠ å…¥
<FAQ />
```

#### Step 5.5ï¼šå„ªåŒ– Core Web Vitals

```typescript
// 1. åœ–ç‰‡å„ªåŒ– - ä½¿ç”¨ Next/Image ä¸¦è¨­å®šé©ç•¶çš„ sizes
<Image
  src={card.imageUrl}
  alt={card.name}
  width={300}
  height={500}
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
  priority={index < 3} // é¦–å±åœ–ç‰‡å„ªå…ˆè¼‰å…¥
/>

// 2. å­—å‹å„ªåŒ– - ä½¿ç”¨ next/font
// src/app/layout.tsx
import { Inter } from 'next/font/google'

const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
})

// 3. æ¸›å°‘ JavaScript bundle å¤§å°
// ä½¿ç”¨å‹•æ…‹import
const HeavyComponent = dynamic(() => import('@/components/HeavyComponent'), {
  loading: () => <LoadingSpinner />,
  ssr: false,
})

// 4. é è¼‰å…¥é—œéµè³‡æº
// src/app/layout.tsx
<link rel="preload" href="/fonts/custom-font.woff2" as="font" type="font/woff2" crossOrigin="anonymous" />
```

#### Step 5.6ï¼šå»ºç«‹ Google Search Console

```bash
# 1. å‰å¾€ Google Search Console
https://search.google.com/search-console

# 2. æ–°å¢ç¶²åŸŸ
wade-through-tarot.vercel.app

# 3. é©—è­‰ç¶²åŸŸ
# å°‡é©—è­‰ç¢¼åŠ å…¥ metadata.verification.google

# 4. æäº¤ sitemap
https://wade-through-tarot.vercel.app/sitemap.xml

# 5. æª¢æŸ¥ç´¢å¼•ç‹€æ…‹èˆ‡éŒ¯èª¤
```

### âœ… é©—è­‰æ¸…å–®

- [ ] æ‰€æœ‰é é¢ meta tags å®Œæ•´
- [ ] OG Image å·²å»ºç«‹
- [ ] çµæ§‹åŒ–è³‡æ–™æ­£ç¢º
- [ ] Sitemap å·²æäº¤
- [ ] Google Search Console å·²è¨­å®š
- [ ] Lighthouse SEO > 95
- [ ] Core Web Vitals é”æ¨™ï¼ˆLCP < 2.5s, FID < 100ms, CLS < 0.1ï¼‰

---

## é …ç›® 6ï¼šç¨‹å¼ç¢¼å“è³ªæå‡

### ğŸ“ ç›®æ¨™

æå‡ç¨‹å¼ç¢¼å“è³ªã€å¯ç¶­è­·æ€§èˆ‡é–‹ç™¼é«”é©—

### ğŸ¯ æˆåŠŸæ¨™æº–

- [ ] ESLint ç„¡è­¦å‘Š
- [ ] TypeScript strict mode å•Ÿç”¨
- [ ] æ¸¬è©¦è¦†è“‹ç‡ç¶­æŒ > 80%
- [ ] ç¨‹å¼ç¢¼æ–‡ä»¶å®Œæ•´
- [ ] Git hooks è¨­å®šå®Œæˆ

### ğŸ“‹ å¯¦ä½œæ­¥é©Ÿ

#### Step 6.1ï¼šå•Ÿç”¨ TypeScript Strict Mode

```json
// tsconfig.json

{
  "compilerOptions": {
    "strict": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "noImplicitAny": true,
    "alwaysStrict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true
  }
}
```

#### Step 6.2ï¼šä¿®å¾©æ‰€æœ‰ TypeScript éŒ¯èª¤

```bash
# åŸ·è¡Œ TypeScript æª¢æŸ¥
npx tsc --noEmit

# é€ä¸€ä¿®å¾©éŒ¯èª¤
# å¸¸è¦‹å•é¡Œï¼š
# 1. å¯èƒ½ç‚º null/undefined çš„å€¼
# 2. any å‹åˆ¥
# 3. æœªä½¿ç”¨çš„è®Šæ•¸
```

#### Step 6.3ï¼šè¨­å®š Husky Git Hooks

```bash
cd /Users/shu-weiwu/projects/wade-through-tarot/client

# å®‰è£ Husky
npm install -D husky lint-staged

# åˆå§‹åŒ– Husky
npx husky init

# è¨­å®š pre-commit hook
cat > .husky/pre-commit << 'EOF'
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx lint-staged
EOF

chmod +x .husky/pre-commit
```

#### Step 6.4ï¼šè¨­å®š lint-staged

```json
// package.json

{
  "lint-staged": {
    "*.{ts,tsx}": ["eslint --fix", "prettier --write"],
    "*.{json,md}": ["prettier --write"]
  }
}
```

#### Step 6.5ï¼šå®‰è£ Prettier

```bash
npm install -D prettier

# å»ºç«‹ .prettierrc
cat > .prettierrc << 'EOF'
{
  "semi": false,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "arrowParens": "avoid"
}
EOF

# å»ºç«‹ .prettierignore
cat > .prettierignore << 'EOF'
node_modules
.next
out
coverage
*.md
EOF
```

#### Step 6.6ï¼šå¢åŠ ç¨‹å¼ç¢¼æ–‡ä»¶

````bash
# å»ºç«‹ CONTRIBUTING.md
cat > CONTRIBUTING.md << 'EOF'
# è²¢ç»æŒ‡å—

## é–‹ç™¼æµç¨‹

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`
3. æäº¤è®Šæ›´ï¼š`git commit -m "feat: add new feature"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/your-feature`
5. å»ºç«‹ Pull Request

## Commit è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` éŒ¯èª¤ä¿®å¾©
- `docs:` æ–‡ä»¶æ›´æ–°
- `style:` ç¨‹å¼ç¢¼æ ¼å¼èª¿æ•´
- `refactor:` é‡æ§‹
- `test:` æ¸¬è©¦ç›¸é—œ
- `chore:` å»ºç½®æˆ–è¼”åŠ©å·¥å…·è®Šå‹•

## ç¨‹å¼ç¢¼é¢¨æ ¼

- ä½¿ç”¨ ESLint å’Œ Prettier
- TypeScript strict mode
- æ‰€æœ‰æ–°åŠŸèƒ½éƒ½è¦æœ‰æ¸¬è©¦

## æ¸¬è©¦

```bash
npm test              # å–®å…ƒæ¸¬è©¦
npm run test:e2e      # E2E æ¸¬è©¦
npm run test:coverage # è¦†è“‹ç‡å ±å‘Š
````

## å»ºç½®

```bash
npm run build
npm start
```

EOF

````

#### Step 6.7ï¼šå¢åŠ  JSDoc è¨»è§£

```typescript
// ç¯„ä¾‹ï¼šsrc/utils/helpers.ts

/**
 * åˆä½µ classNameï¼Œæ”¯æ´æ¢ä»¶åˆ¤æ–·èˆ‡ Tailwind è¡çªè§£æ±º
 * @param inputs - className é™£åˆ—æˆ–ç‰©ä»¶
 * @returns åˆä½µå¾Œçš„ className å­—ä¸²
 * @example
 * ```ts
 * cn('p-4', 'text-blue-500')
 * cn('p-4', { 'bg-red-500': isError })
 * cn('px-2', 'px-4') // çµæœ: 'px-4' (Tailwind è¡çªè§£æ±º)
 * ```
 */
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

/**
 * Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•
 * @param array - è¦æ´—ç‰Œçš„é™£åˆ—
 * @returns æ–°çš„æ´—ç‰Œå¾Œé™£åˆ—ï¼ˆä¸ä¿®æ”¹åŸé™£åˆ—ï¼‰
 * @example
 * ```ts
 * const cards = [1, 2, 3, 4, 5]
 * const shuffled = shuffleArray(cards)
 * // cards ä¿æŒä¸è®Šï¼Œshuffled æ˜¯æ–°é™£åˆ—
 * ```
 */
export function shuffleArray<T>(array: T[]): T[] {
  const shuffled = [...array]
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1))
    ;[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]
  }
  return shuffled
}
````

### âœ… é©—è­‰æ¸…å–®

- [ ] TypeScript strict mode å·²å•Ÿç”¨
- [ ] æ‰€æœ‰ TypeScript éŒ¯èª¤å·²ä¿®å¾©
- [ ] Husky Git hooks å·²è¨­å®š
- [ ] lint-staged æ­£å¸¸é‹ä½œ
- [ ] Prettier å·²é…ç½®
- [ ] CONTRIBUTING.md å·²å»ºç«‹
- [ ] é—œéµå‡½æ•¸éƒ½æœ‰ JSDoc è¨»è§£
- [ ] npm run lint ç„¡éŒ¯èª¤
- [ ] npm run build æˆåŠŸ

---

## ğŸ¯ å®Œæˆå¾Œæª¢æŸ¥æ¸…å–®

å®Œæˆæ‰€æœ‰ä¸­å„ªå…ˆç´šé …ç›®å¾Œï¼Œè«‹ç¢ºèªï¼š

### åŠŸèƒ½å®Œæ•´æ€§

- [ ] UI/UX æ”¹å–„å·²å¯¦æ–½
- [ ] æ‰€æœ‰å¡ç‰Œé é¢ SEO å„ªåŒ–å®Œæˆ
- [ ] é é¢æ•´ä½µå®Œæˆ
- [ ] è³‡æ–™æŒä¹…åŒ–åŠŸèƒ½æ­£å¸¸
- [ ] SEO å„ªåŒ–é”æ¨™
- [ ] ç¨‹å¼ç¢¼å“è³ªæå‡å®Œæˆ

### æ•ˆèƒ½èˆ‡å“è³ª

- [ ] Lighthouse Performance > 85
- [ ] Lighthouse SEO > 95
- [ ] Lighthouse Accessibility > 90
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 80%
- [ ] npm run lint ç„¡éŒ¯èª¤
- [ ] npm run build æˆåŠŸ

### æ–‡ä»¶èˆ‡éƒ¨ç½²

- [ ] æ‰€æœ‰æ–‡ä»¶å·²æ›´æ–°
- [ ] CONTRIBUTING.md å®Œæ•´
- [ ] README å·²æ›´æ–°
- [ ] Vercel éƒ¨ç½²æˆåŠŸ
- [ ] Google Search Console å·²è¨­å®š

---

## ğŸ“Š é æœŸæ•ˆç›Š

å®Œæˆé€™ 6 å€‹ä¸­å„ªå…ˆç´šé …ç›®å¾Œï¼Œä½ å°‡ç²å¾—ï¼š

1. **æ›´å¥½çš„ä½¿ç”¨è€…é«”é©—** - UI/UX å„ªåŒ–æå‡è½‰æ›ç‡
2. **æ›´é«˜çš„ SEO æ’å** - å°ˆæ¥­çš„ SEO å„ªåŒ–å¸¶ä¾†æ›´å¤šè‡ªç„¶æµé‡
3. **æ›´å®Œæ•´çš„åŠŸèƒ½** - è³‡æ–™æŒä¹…åŒ–è®“ä½¿ç”¨è€…æ›´é¡˜æ„å›è¨ª
4. **æ›´é«˜çš„ç¨‹å¼ç¢¼å“è³ª** - æ˜“æ–¼ç¶­è­·å’Œæ“´å±•
5. **æ›´å¥½çš„é–‹ç™¼é«”é©—** - å®Œå–„çš„å·¥å…·éˆèˆ‡æ–‡ä»¶

**ç¸½æŠ•å…¥æ™‚é–“**ï¼šç´„ 30-40 å°æ™‚
**æŠ•è³‡å ±é…¬ç‡**ï¼šé«˜ â­â­â­â­

---

**é–‹å§‹æ—¥æœŸ**ï¼š\***\*\_\_\_\_\*\***
**å®Œæˆæ—¥æœŸ**ï¼š\***\*\_\_\_\_\*\***
**å¯¦éš›è€—æ™‚**ï¼š\***\*\_\_\_\_\*\***

ç¥ä½ å¯¦ä½œé †åˆ©ï¼æœ‰ä»»ä½•å•é¡Œæ­¡è¿éš¨æ™‚è©¢å•ã€‚âœ¨
